# 设计模式学习笔记（李建忠老师）

## 1. 设计模式简介

&emsp; **什么是设计模式**
&emsp; &emsp; 模式描述了一个**不断重复发生**的问题以及**解决方案核心**

&emsp; **GOF设计模式**

&emsp; &emsp;![GOF设计模式封面](../../src/img/GOF_Design_Pattern.png "GOF设计模式封面" )

<!-- &emsp; &emsp; <img src="../../src/img/GOF_Design_Pattern.png" width="50%" ></img> -->

&emsp; &emsp; 历史性的著作 《设计模式：可复用面向对象软件的基础》
&emsp; &emsp; 关键词：可复用、面向对象（现代设计模式隐含表示面向对象设计模式但不等于）

&emsp; **如何解决复杂性**
&emsp; 自然的想法：
&emsp;&emsp; 1. 分解
&emsp;&emsp; 2. **抽象**：可复用性更强

## 2. 面对对象设计原则

设计模式关心可复用性，**变化**是**复用**的天敌，而面向对象设计的优势在于==抵御变化==，将变化带来的影响降低

对面向对象的认识

1. 对象是拥有某种责任的抽象
2. 各司其职：面向对象强调各个类的“责任”

### 面对对象设计原则

设计模式应依赖、遵守设计原则，设计原则是评判设计模式的标准，违背设计原则的设计模式可以认为是错误的

1. 依赖倒置原则（DIP）
   - 高层模块（稳定）不应该依赖于低层模块（变化），二者都应依赖于抽象（稳定）
   - 抽象（稳定）不应该依赖于实现细节（变化），==实现细节应依赖于抽象（稳定）==
2. 开放封闭原则（OCP）
   - 对拓展开放，对更改封闭
   - 类模块应该设计成是可拓展的，不必修改的（即不需要改代码）
3. 单一职责原则（SRP）
   - 一个类应该仅有一个引起它变化的原因
   - 变化的方向隐含类的责任
4. Liskov替换原则（LSP）
   - 子类必须能够替换他们的基类（IS—A关系）
   - 继承表达类型抽象
5. 接口隔离原则（ISP）
   - 接口应该小而完备，
   - 不需要暴露给客户它们不用的方法，否则可能产生依赖关系
6. 优先使用对象组合，而不是类继承
   - 类继承通常为“白箱复用”，对象组合通常为“黑箱复用”
   - 继承破坏了封装性，子类父类天然具有高的耦合性
   - 对象组合只要求被组合的对象具有良好定义的接口即可，耦合度相对较低
7. 封装变化点
   - 使用封装创建对象之间的分界层，让设计者可以在一侧进行修改而不对另一侧产生不良影响，实现层次间的松耦合
8. 针对接口编程，而不是针对实现编程
   - 如不在接口中使用具体业务class，应使用抽象类
   - 实现高内聚，松耦合

设计原则提升

1. 设计习语（Idioms）
  代码级别的底层模式、技巧、惯用法
2. 设计模式（patterns）
  对象直接的组织关系，包括角色、职责、协作方式等
3. 架构模式（Architectural）
  系统中与基本结构组织关系密切的高层模式，包括子系统划分，职责，以及如何组织他们之间关系的规则
